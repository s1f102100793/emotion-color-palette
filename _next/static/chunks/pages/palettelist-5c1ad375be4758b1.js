(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{6719:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/palettelist",function(){return n(4719)}])},4719:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var s=n(5893),o=n(7294),l=n(9777);let c=()=>{let[e,t]=(0,o.useState)([]),[n,s]=(0,o.useState)([]),[c,a]=(0,o.useState)([]),[i,r]=(0,o.useState)(0),d=e=>({rStr:parseInt(e.slice(1,3),16),gStr:parseInt(e.slice(3,5),16),bStr:parseInt(e.slice(5,7),16)}),A={R1G1B1:[d("#000000"),d("#555555")],R1G1B2:[d("#000056"),d("#5555AA")],R1G1B3:[d("#0000AB"),d("#5555FF")],R1G2B1:[d("#005500"),d("#55AA55")],R1G2B2:[d("#005556"),d("#55AAAA")],R1G2B3:[d("#0055AB"),d("#55AAFF")],R1G3B1:[d("#00AA00"),d("#00FF55")],R1G3B2:[d("#00AA56"),d("#00FFAA")],R1G3B3:[d("#00AAAB"),d("#00FFFF")],R2G1B1:[d("#550000"),d("#AA5555")],R2G1B2:[d("#550056"),d("#AA55AA")],R2G1B3:[d("#5500AB"),d("#AA55FF")],R2G2B1:[d("#555500"),d("#AAAA55")],R2G2B2:[d("#555556"),d("#AAAAAA")],R2G2B3:[d("#5555AB"),d("#AAAAFF")],R2G3B1:[d("#55AA00"),d("#55FF55")],R2G3B2:[d("#55AA56"),d("#55FFAA")],R2G3B3:[d("#55AAAB"),d("#55FFFF")],R3G1B1:[d("#AA0000"),d("#FF5555")],R3G1B2:[d("#AA0056"),d("#FF55AA")],R3G1B3:[d("#AA00AB"),d("#FF55FF")],R3G2B1:[d("#AA5500"),d("#AAAA55")],R3G2B2:[d("#AA5556"),d("#AAAAAA")],R3G2B3:[d("#AA55AB"),d("#AAAAFF")],R3G3B1:[d("#AAAA00"),d("#FFFF55")],R3G3B2:[d("#AAAA56"),d("#FFFFAA")],R3G3B3:[d("#AAAAAB"),d("#FFFFFF")]},u={黒:["R1G1B1","R1G1B2"],青:["R1G1B3","R1G1B2","R1G2B3","R1G3B3","R2G3B3"],緑:["R1G2B1","R1G2B2","R1G3B1","R1G3B2","R2G3B1","R2G3B2"],紫:["R2G1B1","R2G1B2","R2G1B3","R3G1B3","R3G2B3","R2G2B3"],灰色:["R2G2B1","R2G2B2"],赤:["R3G1B1","R3G1B2","R2G1B1","R2G1B2"],オレンジ:["R3G2B1","R3G2B2"],黄色:["R3G3B1","R3G3B2"],白:["R3G3B2","R3G3B3"]},p=async(e,t)=>{let s=await l.x.item.$post({body:{type:t,numberlist:n,colorlist:e}});return console.log(s),Array.isArray(s)?a(s):a([]),s};return{selectedColors:e,selectedNumbers:n,palettes:c,currentCount:i,setCurrentCount:r,colorGroups:u,handleColorChange:e=>{t(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},handleNumberChange:e=>{s(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},handleFetch:()=>{let t=e.flatMap(e=>u[e].map(e=>A[e])),s=n.length>0,o=e.length>0;p(t,s&&o?"with":s?"number":"color")}}};var a=n(9250),i=n.n(a),r=()=>{let{selectedColors:e,selectedNumbers:t,palettes:n,currentCount:l,setCurrentCount:a,colorGroups:r,handleColorChange:d,handleNumberChange:A,handleFetch:u}=c();return(0,o.useEffect)(()=>{console.log("useEffect is running");let e=document.querySelector(".sidebar");if(!e)return;let t=()=>{console.log("Scroll detected:",window.scrollY),window.scrollY>100?(e.style.position="absolute",e.style.top="".concat(100,"px")):(e.style.position="fixed",e.style.top="20px")};return window.addEventListener("scroll",t),window.addEventListener("scroll",()=>{console.log("Direct scroll listener: ",window.scrollY)}),document.addEventListener("scroll",()=>{console.log("Direct scroll listener on document: ",window.scrollY)}),()=>{window.removeEventListener("scroll",t)}},[]),(0,o.useEffect)(()=>{console.log("useEffect for .mainContent scroll is running");let e=document.querySelector(".mainContent");if(!e)return;let t=()=>{console.log("Scroll detected on .mainContent:",e.scrollTop)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}},[]),(0,o.useEffect)(()=>{let e=()=>{console.log("Page was clicked!")};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}},[]),(0,o.useEffect)(()=>{let e=Date.now(),t=()=>{let s=Date.now(),o=s-e;o>2e3&&(o=2e3);let l=o/2e3;a(Math.round(l*n.length)),o<2e3&&requestAnimationFrame(t)};t()},[n.length,a]),(0,s.jsxs)("div",{className:i().container,children:[(0,s.jsxs)("div",{className:i().sidebar,children:[(0,s.jsxs)("div",{className:i().targetCount,children:[(0,s.jsx)("span",{children:"対象パレット"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:i().currentCount,children:l}),(0,s.jsx)("span",{className:i().countLabel,children:"件"})]})]}),(0,s.jsxs)("div",{className:i().paletteNumbers,children:[(0,s.jsx)("div",{className:i().subtitle,children:"パレット数"}),[4,5,6].map(e=>(0,s.jsxs)("div",{className:i().option,children:[(0,s.jsx)("input",{type:"checkbox",checked:t.includes(e),onChange:()=>A(e)}),(0,s.jsxs)("label",{children:[e,"色"]})]},e))]}),(0,s.jsxs)("div",{className:i().paletteColors,children:[(0,s.jsx)("div",{className:i().subtitle,children:"カラー"}),Object.keys(r).map(t=>(0,s.jsxs)("div",{className:i().option,children:[(0,s.jsx)("input",{type:"checkbox",checked:e.includes(t),onChange:()=>d(t)}),(0,s.jsx)("label",{children:t})]},t))]}),(0,s.jsx)("button",{onClick:u,children:"パレットを取得"})]}),(0,s.jsx)("div",{className:i().mainContent,children:n.map(e=>(0,s.jsxs)("div",{className:i().paletteItem,children:[(0,s.jsx)("div",{className:i().colorBox,children:e.color.map((e,t)=>(0,s.jsx)("div",{className:i().color,style:{background:e}},t))}),(0,s.jsx)("h3",{children:e.text}),(0,s.jsxs)("div",{className:i().info,children:[(0,s.jsx)("div",{children:"Like: "}),(0,s.jsxs)("div",{children:["Created At: ",new Date(e.createdAt).toLocaleString()]})]})]},e.id))})]})}},9777:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var s=n(9239),o=n(7080),l=n(6154);let c=(e=>{let{baseURL:t,fetch:n}=e,s=(void 0===t?"":t).replace(/\/$/,""),l="/color",c="/health",a="/item",i="/session",r="/tasks",d="POST",A="DELETE",u="PATCH";return{color:{post:e=>n(s,l,d,e).json(),$post:e=>n(s,l,d,e).json().then(e=>e.body),$path:()=>"".concat(s).concat(l)},health:{get:e=>n(s,c,"GET",e).json(),$get:e=>n(s,c,"GET",e).json().then(e=>e.body),$path:()=>"".concat(s).concat(c)},item:{get:e=>n(s,a,"GET",e).text(),$get:e=>n(s,a,"GET",e).text().then(e=>e.body),post:e=>n(s,a,d,e).json(),$post:e=>n(s,a,d,e).json().then(e=>e.body),$path:()=>"".concat(s).concat(a)},me:{get:e=>n(s,"/me","GET",e).json(),$get:e=>n(s,"/me","GET",e).json().then(e=>e.body),$path:()=>"".concat(s).concat("/me")},session:{post:e=>n(s,i,d,e).json(),$post:e=>n(s,i,d,e).json().then(e=>e.body),delete:e=>n(s,i,A,e).json(),$delete:e=>n(s,i,A,e).json().then(e=>e.body),$path:()=>"".concat(s).concat(i)},tasks:{_taskId:e=>{let t="".concat(r,"/").concat(e);return{patch:e=>n(s,t,u,e).send(),$patch:e=>n(s,t,u,e).send().then(e=>e.body),delete:e=>n(s,t,A,e).send(),$delete:e=>n(s,t,A,e).send().then(e=>e.body),$path:()=>"".concat(s).concat(t)}},get:e=>n(s,r,"GET",e).json(),$get:e=>n(s,r,"GET",e).json().then(e=>e.body),post:e=>n(s,r,d,e).json(),$post:e=>n(s,r,d,e).json().then(e=>e.body),$path:e=>"".concat(s).concat(r).concat(e&&e.query?"?".concat((0,o._K)(e.query)):"")},get:e=>n(s,"","GET",e).text(),$get:e=>n(s,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(s)}})((0,s.Z)(l.Z.create({withCredentials:!0})))},9250:function(e){e.exports={container:"palettelist_container__Tn3C8",sidebar:"palettelist_sidebar__Gl0gU",targetCount:"palettelist_targetCount__DcHXc",currentCount:"palettelist_currentCount__kNiQo",countLabel:"palettelist_countLabel__JN_nf",paletteNumbers:"palettelist_paletteNumbers__PC0wM",paletteColors:"palettelist_paletteColors__lpWYU",option:"palettelist_option__hf_Xw",subtitle:"palettelist_subtitle__avShf",mainContent:"palettelist_mainContent__XBRCW",paletteItem:"palettelist_paletteItem__MYKCu",colorBox:"palettelist_colorBox__Z8WIE",color:"palettelist_color__6F_4s",info:"palettelist_info__SdVEs"}}},function(e){e.O(0,[911,774,888,179],function(){return e(e.s=6719)}),_N_E=e.O()}]);